<div class="video-wrapper">
<!--    # Connection Debug-->
<!--    <div class="debug-info" style="position: fixed; top: 10px; right: 10px; background: rgba(0,0,0,0.8); color: white; padding: 10px; font-size: 12px;">-->
<!--        <div>Role: {{role}}</div>-->
<!--        <div>Local Tracks: {{debugInfo.localTracks}}</div>-->
<!--        <div>Remote Tracks: {{debugInfo.remoteTracks}}</div>-->
<!--        <div>Connection: {{debugInfo.connectionState}}</div>-->
<!--        <div>ICE: {{debugInfo.iceConnectionState}}</div>-->
<!--        <button (click)="showDebugInfo()">Log State</button>-->
<!--    </div>-->

    <div class="videos">
        <!-- HOST VIEW -->

        <ng-container *ngIf="role === 'host'; else guestTemplate">
            <div class="my-cam-warper">
                <video #localVideo autoplay muted playsinline></video>
                <div class="participant-name">{{ candidateName }} (–í–∏–µ)</div>
                <div class="status-indicator">
                    üü¢ –û–Ω–ª–∞–π–Ω
                    <span *ngIf="!micEnabled">üîá –ë–µ–∑ –∑–≤—É–∫</span>
                </div>
                <div class="controls">
                    <button (click)="toggleMic()">
                        <i class="fas" [ngClass]="micEnabled ? 'fa-microphone' : 'fa-microphone-slash'"></i>
                    </button>
                    <button (click)="toggleCamera()">
                        <i class="fas" [ngClass]="cameraEnabled ? 'fa-video' : 'fa-video-slash'"></i>
                    </button>
                </div>
            </div>

            <div class="remote-cam">
                <video #remoteVideo autoplay playsinline></video>
                <div class="participant-name">–°—ä–±–µ—Å–µ–¥–Ω–∏–∫</div>
                <div class="status-indicator">üü¢ –û–Ω–ª–∞–π–Ω</div>
            </div>
        </ng-container>

        <!-- GUEST VIEW -->
        <ng-template #guestTemplate>
            <div class="remote-cam">
                <video #remoteVideo autoplay playsinline></video>
                <div class="participant-name">–ò–Ω—Ç–µ—Ä–≤—é–∏—Ä–∞—â</div>
                <div class="status-indicator">üü¢ –û–Ω–ª–∞–π–Ω</div>
            </div>

            <div class="my-cam-warper">
                <video #localVideo autoplay muted playsinline></video>
                <div class="participant-name">{{ candidateName }} (–í–∏–µ)</div>
                <div class="status-indicator">
                    üü¢ –û–Ω–ª–∞–π–Ω
                    <span *ngIf="!micEnabled">üîá –ë–µ–∑ –∑–≤—É–∫</span>
                </div>
                <div class="controls">
                    <button (click)="toggleMic()">
                        <i class="fas" [ngClass]="micEnabled ? 'fa-microphone' : 'fa-microphone-slash'"></i>
                    </button>
                    <button (click)="toggleCamera()">
                        <i class="fas" [ngClass]="cameraEnabled ? 'fa-video' : 'fa-video-slash'"></i>
                    </button>
                </div>
            </div>
        </ng-template>
    </div>

    <div class="leave-call">
        <button (click)="leaveCall()">‚õî –ù–∞–ø—É—Å–Ω–∏ —Å—Ä–µ—â–∞—Ç–∞</button>
    </div>
</div>
