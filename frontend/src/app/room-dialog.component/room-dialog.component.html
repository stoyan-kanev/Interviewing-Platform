<div class="fixed inset-0 z-50">
    <!-- overlay -->
    <div class="absolute inset-0 bg-black/60 backdrop-blur-sm"></div>

    <!-- center -->
    <div class="relative h-full w-full flex items-center justify-center p-4">
        <div
            role="dialog"
            aria-modal="true"
            aria-labelledby="room-dialog-title"
            class="w-full max-w-lg md:max-w-xl rounded-2xl border border-gray-200 dark:border-gray-700
             bg-white/80 dark:bg-gray-900/70 backdrop-blur shadow-2xl"
        >
            <!-- header -->
            <div class="flex items-center justify-between px-5 py-4 border-b border-gray-200 dark:border-gray-700">
                <h2 id="room-dialog-title" class="text-lg font-semibold text-white">
                    {{ mode === 'edit' ? 'Edit Interview Room' : 'Create Interview Room' }}
                </h2>
                <button
                    type="button"
                    (click)="close()"
                    class="inline-flex items-center justify-center rounded-lg border border-gray-300 dark:border-gray-700
                 bg-white/70 dark:bg-gray-800 px-3 py-1.5 text-sm hover:bg-gray-50 dark:hover:bg-gray-700
                 transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"
                    aria-label="Close"
                >
                    ✕
                </button>
            </div>

            <!-- body -->
            <form [formGroup]="form" (ngSubmit)="submit()" class="px-5 py-4 space-y-4" [attr.aria-busy]="loading">
                <div>
                    <label for="room-name" class="block text-sm mb-1 text-gray-700 dark:text-gray-300">Room name</label>
                    <input
                        id="room-name"
                        type="text"
                        formControlName="name"
                        maxlength="100"
                        placeholder="Enter room name"
                        class="w-full rounded-lg border border-gray-300 dark:border-gray-700
                   bg-white/70 dark:bg-gray-800/70 px-4 py-2 text-gray-900 dark:text-gray-100
                   placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500
                   transition"
                        [ngClass]="{
              'border-red-500 focus:ring-red-500 focus:border-red-500':
                form.get('name')?.invalid && (form.get('name')?.dirty || form.get('name')?.touched)
            }"
                    />
                    <div class="mt-1 flex items-center justify-between text-xs">
                        <span class="text-gray-500 dark:text-gray-400">{{ form.value.name?.length || 0 }}/100</span>

                        @if (form.get('name')?.errors && (form.get('name')?.dirty || form.get('name')?.touched)) {
                            <span class="text-red-500">
                @if (form.get('name')?.errors?.['required']) { Name is required. }
                @else if (form.get('name')?.errors?.['maxlength']) { Max 100 characters. }
              </span>
                        }
                    </div>
                </div>

                <!-- footer -->
                <div class="flex justify-end gap-2 pt-3 border-t border-gray-200 dark:border-gray-700">
                    <button
                        type="button"
                        (click)="close()"
                        class="px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700
                   bg-white/70 dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700
                   transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 text-red-600"
                    >
                        Cancel
                    </button>
                    <button
                        type="submit"
                        [disabled]="form.invalid || loading"
                        class="px-4 py-2 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white
                   disabled:opacity-50 disabled:cursor-not-allowed transition shadow
                   focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"
                    >
                        {{ loading ? 'Saving…' : (mode === 'edit' ? 'Save Changes' : 'Create') }}
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
